webpackJsonp([0],[,function(t,e,s){function o(t){s(34)}var a=s(0)(s(18),s(55),o,"data-v-73d92544",null);t.exports=a.exports},,,function(t,e,s){"use strict";e.a={BASE_URL:"localhost"===window.location.hostname?"http://localhost:8080":""}},,function(t,e,s){function o(t){s(28)}var a=s(0)(s(21),s(49),o,"data-v-030c12b7",null);t.exports=a.exports},function(t,e,s){function o(t){s(31)}var a=s(0)(s(25),s(52),o,"data-v-2a8d90c6",null);t.exports=a.exports},function(t,e,s){"use strict";var o=s(3),a=s(59),n=s(43),i=s.n(n),r=s(45),c=s.n(r);o.a.use(a.a),e.a=new a.a({mode:"history",routes:[{path:"/",name:"Hello",component:i.a},{path:"/room/:username",name:"Room",component:c.a}]})},,function(t,e,s){function o(t){s(36)}var a=s(0)(s(16),s(57),o,null,null);t.exports=a.exports},,,,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(3),a=s(10),n=s.n(a),i=s(8),r=s(12),c=s(9),l=s(13),u=s.n(l),d=s(11),p=s.n(d);o.a.use(r.a),o.a.use(p.a),o.a.use(u.a,"ws://localhost:3000"),o.a.use(c.a,{baseUrl:"https://accounts.spotify.com/authorize",providers:{spotify:{clientId:"da73848fd0704f87a74b4d5d88dc1642",redirectUri:"http://localhost:8080/auth"}}}),o.a.config.productionTip=!1,new o.a({el:"#app",router:i.a,template:"<App/>",components:{App:n.a},localStorage:{id:{type:String,default:!1}}})},function(t,e,s){"use strict";e.a=function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<10;s++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(1),a=s.n(o),n=s(15);e.default={name:"app",components:{Navigation:a.a},created:function(){"false"===this.$localStorage.get("id")&&this.$localStorage.set("id",s.i(n.a)()),console.info(this.$localStorage.get("id"))}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(1),a=s.n(o),n=s(46),i=s.n(n),r=s(6),c=s.n(r),l=s(4);e.default={name:"hello",data:function(){return{url_base:"https://accounts.spotify.com/authorize",params:{client_id:"da73848fd0704f87a74b4d5d88dc1642",response_type:"code",redirect_uri:l.a.BASE_URL+"/api/auth/",scopes:encodeURIComponent("playlist-read-private playlist-read-collaborative playlist-modify-public playlist-modify-private streaming ugc-image-upload user-follow-modify user-follow-read user-library-read user-library-modify user-read-private user-read-birthdate user-read-email user-top-read user-read-playback-state user-modify-playback-state user-read-currently-playing user-read-recently-played")},rooms:[]}},components:{Navigation:a.a,RoomList:i.a,RoomButton:c.a},created:function(){var t=this;this.$http.get(l.a.BASE_URL+"/api/room/").then(function(e){t.rooms=e.body})},methods:{myRoom:function(){var t=this.$localStorage.get("username");t?this.$router.push("/room/"+t):window.location.assign(this.authLink)}},computed:{authLink:function(){return this.url_base+"?client_id="+this.params.client_id+"&response_type="+this.params.response_type+"&redirect_uri="+this.params.redirect_uri+"&scope="+this.params.scopes}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(7),a=s.n(o);e.default={components:{SongList:a.a},name:"Navigation",data:function(){return{showNav:!1,query:""}},props:{onSearch:{type:Function,required:!1},songs:[]},methods:{toggle:function(){this.showNav=!this.showNav}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Player",props:{playing:!0,room:{type:String,required:!0}},data:function(){return{}},methods:{togglePlay:function(){this.playing=!this.playing,this.$socket.emit("status",{room:this.room,status:this.playing?"play":"pause"})},forward:function(){this.$socket.emit("foward",{room:this.room})}},computed:{getPlayingIcon:function(){return this.playing?"fa-play":"fa-pause"}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(7),a=s.n(o),n=s(44),i=s.n(n),r=s(1),c=s.n(r),l=s(4);e.default={name:"Room",components:{SongList:a.a,Player:i.a,Navigation:c.a},data:function(){return{playing:!0,songs:[],results:[],username:this.$route.params.username,isHost:!1}},created:function(){var t=this;!this.$localStorage.get("username")&&this.isHost&&this.$localStorage.set("username",this.username),this.$http.get("http://localhost:8080/api/room/"+this.username).then(function(e){t.songs=e.body.songs,t.isHost=e.body.isHost,t.playing=e.body.isPlaying,console.log(t.isHost,t.playing)})},methods:{onKeyUp:function(t){var e=this;t.length>3?this.$http.get(l.a.BASE_URL+"/api/room/"+this.username+"/searchSong?q="+t).then(function(t){e.results=t.data,console.log("resultado",e.results)}):0===t.length&&(this.results=[])}},socket:{events:{playlist:function(t){this.songs=t},connect:function(){this.$socket.emit("join",this.username)},removed:function(t){var e=this.songs.map(function(t){return t.id}).indexOf(t);-1!==e&&this.songs.splice(e,1)}}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"RoomButton",props:{onClick:{type:Function,required:!1}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(47),a=s.n(o),n=s(6),i=s.n(n);e.default={name:"RoomList",components:{RoomPreview:a.a,RoomButton:i.a},props:{rooms:{type:Array,required:!0},myRoom:{type:Function,required:!1}},created:function(){},methods:{empty:function(){return 0===this.rooms.length}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(40),a=s.n(o);e.default={name:"RoomPreview",props:{data:{type:Object,required:!0}},beforeCreate:function(){this.backgroundColor=a()({luminosity:"light"})},data:function(){return{styleObject:{backgroundColor:this.backgroundColor}}},methods:{onClick:function(){this.$router.push("/room/"+this.data.owner.spotify_id)}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Song",props:{detail:{type:Object,required:!0},isHost:{type:Boolean,required:!0},isPlaylist:{type:Boolean,required:!0}},computed:{totalVotes:function(){return this.detail.votes.length},hasVoted:function(){var t=this.$localStorage.get("id");return void 0!==this.detail.votes.find(function(e){return e.user===t})}},methods:{onRemove:function(t){this.$socket.emit("remove",t)},onVote:function(t){this.$emit("vote",{user:this.$localStorage.get("id"),id:t.id})},addToPlaylist:function(t){this.$socket.emit("addSong",t),console.log(t.id,t.uri)}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(48),a=s.n(o);e.default={name:"SongList",components:{Song:a.a},props:{songs:{type:Array,required:!0},isHost:{type:Boolean,required:!0},isPlaylist:{type:Boolean,required:!1,default:!0}},created:function(){}}},,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,function(t,e,s){function o(t){s(30)}var a=s(0)(s(17),s(51),o,"data-v-22085f10",null);t.exports=a.exports},function(t,e,s){function o(t){s(33)}var a=s(0)(s(19),s(54),o,"data-v-678c0eaa",null);t.exports=a.exports},function(t,e,s){function o(t){s(37)}var a=s(0)(s(20),s(58),o,"data-v-d02ad3b6",null);t.exports=a.exports},function(t,e,s){function o(t){s(32)}var a=s(0)(s(22),s(53),o,"data-v-50eb9d63",null);t.exports=a.exports},function(t,e,s){function o(t){s(35)}var a=s(0)(s(23),s(56),o,"data-v-7cfe8e13",null);t.exports=a.exports},function(t,e,s){function o(t){s(29)}var a=s(0)(s(24),s(50),o,"data-v-047b4542",null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{on:{click:t.onClick}},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"song"},[s("img",{staticClass:"album-cover",attrs:{src:t.detail.album.images[1].url,alt:"Album cover"}}),t._v(" "),s("div",{staticClass:"detail"},[s("h3",[t._v(t._s(t.detail.name))]),t._v(" "),s("h4",[t._v(t._s(t.detail.album.name))]),t._v(" "),s("h5",[t._v(t._s(t.detail.artists[0].name))])]),t._v(" "),t.isPlaylist?s("div",{staticClass:"actions"},[s("span",{staticClass:"votes"},[t._v(t._s(t.totalVotes))]),t._v(" "),t.isHost?s("div",{staticClass:"action",on:{click:function(e){t.onRemove(t.detail.id)}}},[s("i",{staticClass:"fa fa-2x fa-trash"})]):t.hasVoted?s("div",{staticClass:"action"},[s("i",{staticClass:"fa fa-2x fa-check"})]):s("div",{staticClass:"action",on:{click:function(e){t.onVote(t.detail)}}},[s("i",{staticClass:"fa fa-2x fa-thumbs-up"})])]):s("div",{staticClass:"actions"},[s("div",{staticClass:"action",on:{click:function(e){t.addToPlaylist(t.detail)}}},[s("i",{staticClass:"fa fa-2x fa-plus"})])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("navigation"),t._v(" "),s("div",{staticClass:"header-container"},[s("div",{staticClass:"header"},[s("h1",[t._v("All the rooms")]),t._v(" "),s("room-button",{attrs:{"on-click":t.myRoom}},[t._v("My Room")])],1)]),t._v(" "),s("room-list",{attrs:{"my-room":t.myRoom,rooms:t.rooms}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"song-list"},[t.songs.length>0?s("ul",t._l(t.songs,function(e){return s("li",[s("song",{attrs:{detail:e,"is-host":t.isHost,"is-playlist":t.isPlaylist}})],1)})):s("div",{staticClass:"no-songs"},[t._v("\n    There are no songs\n  ")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"rooms",class:{grid:!t.empty()}},[t._l(t.rooms,function(e){return s("room-preview",{directives:[{name:"show",rawName:"v-show",value:!t.empty(),expression:"!empty()"}],key:e.owner.spotify_id,attrs:{data:e}})}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.empty(),expression:"empty()"}],staticClass:"no-rooms"},[s("p",[t._v("There are no rooms")]),t._v(" "),s("room-button",{attrs:{"on-click":t.myRoom}},[t._v("Go To My Room")])],1)],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"player"},[s("span",{on:{click:t.togglePlay}},[s("i",{staticClass:"fa fa-2x",class:t.getPlayingIcon})]),t._v(" "),s("span",{on:{click:t.forward}},[s("i",{staticClass:"fa fa-2x fa-forward"})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",[s("router-link",{staticClass:"main-title",attrs:{to:"/"}},[t._v("Music Room")]),t._v(" "),s("div",{staticClass:"search toggle",on:{click:t.toggle}},[s("i",{staticClass:"fa fa-search fa-2x"})]),t._v(" "),s("div",{staticClass:"overlay",class:{visible:t.showNav}},[s("div",{staticClass:"header"},[s("div",{staticClass:"search-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],attrs:{placeholder:"Search for a song...",autofocus:""},domProps:{value:t.query},on:{keyup:function(e){t.onSearch(t.query)},input:function(e){e.target.composing||(t.query=e.target.value)}}})]),t._v(" "),s("div",{staticClass:" toggle",on:{click:t.toggle}},[s("i",{staticClass:"fa fa-2x fa-times"})])]),t._v(" "),s("div",{staticClass:"results"},[s("h2",[t._v("Search results")]),t._v(" "),s("song-list",{attrs:{songs:t.songs,"is-host":!1,"is-playlist":!1}})],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"room-preview",on:{click:t.onClick}},[s("div",{staticClass:"cover",style:{backgroundColor:t.backgroundColor}},[s("h2",[t._v(t._s(t.data.owner.spotify_id))])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("main",[s("transition",[s("router-view")],1)],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"room"},[s("navigation",{attrs:{"on-search":t.onKeyUp,songs:t.results}}),t._v(" "),s("div",{staticClass:"content"},[s("h2",[t._v(t._s(t.username.toUpperCase()))]),t._v(" "),t._m(0),t._v(" "),s("section",{staticClass:"songs"},[s("br"),t._v(" "),s("h3",[t._v("COMING")]),t._v(" "),s("song-list",{attrs:{songs:t.songs,"is-host":t.isHost}})],1),t._v(" "),t.isHost?s("player",{attrs:{playing:t.playing,room:t.username}}):t._e()],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"details"},[s("img",{staticClass:"current-album",attrs:{src:"https://i.scdn.co/image/8b662d81966a0ec40dc10563807696a8479cd48b",alt:"Album cover"}}),t._v(" "),s("div",{staticClass:"info"},[s("img",{attrs:{src:"http://lorempixel.com/75/75/",alt:"Votes"}}),t._v(" "),s("h2",[t._v("Canción")]),t._v(" "),s("h3",[t._v("Album")]),t._v(" "),s("p",[t._v("Votado por: Pepe, Jorge y 3 más")])])])}]}},,,,,function(t,e){}],[14]);
//# sourceMappingURL=app.092bb0d68393ea3d641b.js.map
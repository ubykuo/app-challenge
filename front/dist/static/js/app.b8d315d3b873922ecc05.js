webpackJsonp([0],[,function(t,e,a){function s(t){a(29)}var o=a(0)(a(15),a(50),s,"data-v-73d92544",null);t.exports=o.exports},,,,function(t,e,a){"use strict";var s=a(3),o=a(54),n=a(38),i=a.n(n),r=a(40),c=a.n(r);s.a.use(o.a),e.a=new o.a({mode:"history",routes:[{path:"/",name:"Hello",component:i.a},{path:"/room/:username",name:"Room",component:c.a}]})},,function(t,e,a){function s(t){a(31)}var o=a(0)(a(13),a(52),s,null,null);t.exports=o.exports},,,,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(3),o=a(7),n=a.n(o),i=a(5),r=a(9),c=a(6),l=a(10),u=a.n(l),d=a(8),f=a.n(d);s.a.use(r.a),s.a.use(f.a),s.a.use(u.a,"ws://localhost:3000"),s.a.use(c.a,{baseUrl:"https://accounts.spotify.com/authorize",providers:{spotify:{clientId:"da73848fd0704f87a74b4d5d88dc1642",redirectUri:"http://localhost:8080/auth"}}}),s.a.config.productionTip=!1,new s.a({el:"#app",router:i.a,template:"<App/>",components:{App:n.a},localStorage:{id:{type:String,default:!1}}})},function(t,e,a){"use strict";e.a=function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<10;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(1),o=a.n(s),n=a(12);e.default={name:"app",components:{Navigation:o.a},created:function(){"false"===this.$localStorage.get("id")&&this.$localStorage.set("id",a.i(n.a)()),console.info(this.$localStorage.get("id"))}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(1),o=a.n(s),n=a(41),i=a.n(n);e.default={name:"hello",data:function(){return{url_base:"https://accounts.spotify.com/authorize",params:{client_id:"da73848fd0704f87a74b4d5d88dc1642",response_type:"code",redirect_uri:"http://localhost:8080/api/auth/",scopes:encodeURIComponent("playlist-read-private playlist-read-collaborative playlist-modify-public playlist-modify-private streaming ugc-image-upload user-follow-modify user-follow-read user-library-read user-library-modify user-read-private user-read-birthdate user-read-email user-top-read user-read-playback-state user-modify-playback-state user-read-currently-playing user-read-recently-played")},rooms:[{_id:"59c291e25201261366322606",owner:{spotify_id:"manuel.duran",image:null,name:null}},{_id:"59c291e25201261366322606",owner:{spotify_id:"tito.molina",image:null,name:null}},{_id:"59c291e25201261366322606",owner:{spotify_id:"valen.mari",image:null,name:null}},{_id:"59c291e25201261366322606",owner:{spotify_id:"seba.gallardo",image:null,name:null}},{_id:"59c291e25201261366322606",owner:{spotify_id:"santi",image:null,name:null}}]}},components:{Navigation:o.a,RoomList:i.a},created:function(){var t=this;this.$http.get("/api/room/").then(function(e){t.rooms=e.rooms})},methods:{myRoom:function(){var t=this.$localStorage.get("username");t?this.$router.push("/room/"+t):window.location.assign(this.authLink)}},computed:{authLink:function(){return this.url_base+"?client_id="+this.params.client_id+"&response_type="+this.params.response_type+"&redirect_uri="+this.params.redirect_uri+"&scopes="+this.params.scopes}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Navigation",data:function(){return{showNav:!1,query:""}},props:{onSearch:{type:Function,required:!1}},methods:{toggle:function(){this.showNav=!this.showNav}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Player",data:function(){return{playing:!1}},methods:{togglePlay:function(){this.playing=!this.playing,this.$emit(this.playing?"play":"pause")}},computed:{getPlayingIcon:function(){return this.playing?"fa-play":"fa-pause"}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(44),o=a.n(s),n=a(39),i=a.n(n),r=a(1),c=a.n(r);e.default={name:"Room",components:{SongList:o.a,Player:i.a,Navigation:c.a},data:function(){return{playing:!0,songs:[{title:"Song n 2",artist:"Roberto",album:"Black Album",votes:[{user:"iqNk8OspZw"},{user:"pepe"},{user:"carlitos"}]},{title:"Song n 2",artist:"Roberto",album:"Black Album",votes:[{user:"pepe"},{user:"carlitos"}]},{title:"Song n 2",artist:"Roberto",album:"Black Album",votes:[{user:"carlitos"}]}],username:this.$route.params.username,isHost:!1}},created:function(){!this.$localStorage.get("username")&&this.isHost&&this.$localStorage.set("username",this.username),this.$http.get("/api/room/"+this.username).then(function(t){console.log("entro a la peticion",t)})},methods:{toggleNav:function(){console.log("emiting toggleNav"),this.$emit("toggle-nav",{})},onKeyUp:function(t){console.info("it worked"),t.length}},socket:{events:{playlist:function(t){this.songs=t},connect:function(){this.$socket.emit("join",this.username)},removed:function(t){var e=this.songs.map(function(t){return t.id}).indexOf(t);-1!==e&&this.songs.splice(e,1)}}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(42),o=a.n(s);e.default={name:"RoomList",components:{RoomPreview:o.a},props:{rooms:{type:Array,required:!0}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(35),o=a.n(s);e.default={name:"RoomPreview",props:{data:{type:Object,required:!0}},beforeCreate:function(){this.backgroundColor=o()({luminosity:"light"})},data:function(){return{styleObject:{backgroundColor:this.backgroundColor}}},methods:{onClick:function(){this.$router.push("/room/"+this.data.owner.spotify_id)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Song",props:{detail:{type:Object,required:!0},isHost:{type:Boolean,required:!0},isPlaylist:{type:Boolean,required:!0}},computed:{totalVotes:function(){return this.detail.votes.length},hasVoted:function(){var t=this.$localStorage.get("id");return void 0!==this.detail.votes.find(function(e){return e.user===t})}},methods:{onRemove:function(t){this.$socket.emit("remove",t)},onVote:function(t){this.$emit("vote",{user:this.$localStorage.get("id"),id:t})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(43),o=a.n(s);e.default={name:"SongList",components:{Song:o.a},props:{songs:{type:Array,required:!0},isHost:{type:Boolean,required:!0}},created:function(){}}},,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,function(t,e,a){function s(t){a(25)}var o=a(0)(a(14),a(46),s,"data-v-22085f10",null);t.exports=o.exports},function(t,e,a){function s(t){a(28)}var o=a(0)(a(16),a(49),s,"data-v-678c0eaa",null);t.exports=o.exports},function(t,e,a){function s(t){a(32)}var o=a(0)(a(17),a(53),s,"data-v-d02ad3b6",null);t.exports=o.exports},function(t,e,a){function s(t){a(27)}var o=a(0)(a(18),a(48),s,"data-v-50eb9d63",null);t.exports=o.exports},function(t,e,a){function s(t){a(30)}var o=a(0)(a(19),a(51),s,"data-v-7cfe8e13",null);t.exports=o.exports},function(t,e,a){function s(t){a(24)}var o=a(0)(a(20),a(45),s,"data-v-047b4542",null);t.exports=o.exports},function(t,e,a){function s(t){a(26)}var o=a(0)(a(21),a(47),s,"data-v-2a8d90c6",null);t.exports=o.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"song"},[a("img",{staticClass:"album-cover",attrs:{src:"https://i.scdn.co/image/54b3222c8aaa77890d1ac37b3aaaa1fc9ba630ae",alt:"Album cover"}}),t._v(" "),a("div",{staticClass:"detail"},[a("h3",[t._v(t._s(t.detail.title))]),t._v(" "),a("h4",[t._v(t._s(t.detail.album))])]),t._v(" "),t.isPlaylist?a("div",{staticClass:"actions"},[a("span",{staticClass:"votes"},[t._v(t._s(t.totalVotes))]),t._v(" "),t.isHost?a("div",{staticClass:"action",on:{click:function(e){t.onRemove(t.detail.id)}}},[a("i",{staticClass:"fa fa-2x fa-trash"})]):t.hasVoted?a("div",{staticClass:"action"},[a("i",{staticClass:"fa fa-2x fa-check"})]):a("div",{staticClass:"action",on:{click:function(e){t.onVote(t.detail.id)}}},[a("i",{staticClass:"fa fa-2x fa-thumbs-up"})])]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("navigation"),t._v(" "),a("div",{staticClass:"header-container"},[a("div",{staticClass:"header"},[a("h1",[t._v("All the rooms")]),t._v(" "),a("button",{on:{click:t.myRoom}},[t._v("MY ROOM")])])]),t._v(" "),a("room-list",{attrs:{rooms:t.rooms}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"song-list"},[a("ul",t._l(t.songs,function(e){return a("li",[a("song",{attrs:{detail:e,"is-host":t.isHost,"is-playlist":!0}})],1)}))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"rooms"},t._l(t.rooms,function(t){return a("room-preview",{key:t.owner.spotify_id,attrs:{data:t}})}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"player"},[a("span",{on:{click:t.togglePlay}},[a("i",{staticClass:"fa fa-2x",class:t.getPlayingIcon})]),t._v(" "),a("span",{on:{click:function(e){t.forward()}}},[a("i",{staticClass:"fa fa-2x fa-forward"})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("router-link",{staticClass:"main-title",attrs:{to:"/"}},[t._v("Music Room")]),t._v(" "),a("div",{staticClass:"search toggle",on:{click:t.toggle}},[a("i",{staticClass:"fa fa-search fa-2x"})]),t._v(" "),a("div",{staticClass:"overlay",class:{visible:t.showNav}},[a("div",{staticClass:"header"},[a("div",{staticClass:"search-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],attrs:{placeholder:"Search for a song...",autofocus:""},domProps:{value:t.query},on:{keyup:function(e){t.onSearch(t.query)},input:function(e){e.target.composing||(t.query=e.target.value)}}})]),t._v(" "),a("div",{staticClass:" toggle",on:{click:t.toggle}},[a("i",{staticClass:"fa fa-2x fa-times"})])]),t._v(" "),t._m(0)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"results"},[a("ul",[a("li",[t._v("Resultado 1")]),t._v(" "),a("li",[t._v("Resultado 2")]),t._v(" "),a("li",[t._v("Resultado 3")]),t._v(" "),a("li",[t._v("Resultado 4")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"room-preview",on:{click:t.onClick}},[a("div",{staticClass:"cover",style:{backgroundColor:t.backgroundColor}},[a("h2",[t._v(t._s(t.data.owner.spotify_id))])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("main",[a("transition",[a("router-view")],1)],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"room"},[a("navigation",{attrs:{"on-search":t.onKeyUp}}),t._v(" "),a("h2",[t._v(t._s(t.username.toUpperCase()))]),t._v(" "),t._m(0),t._v(" "),a("section",{staticClass:"songs"},[a("h3",[t._v("SIGUIENTES")]),t._v(" "),a("song-list",{attrs:{songs:t.songs,"is-host":t.isHost}})],1),t._v(" "),t.isHost?a("player",{attrs:{playing:t.playing}}):t._e()],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"details"},[a("img",{staticClass:"current-album",attrs:{src:"https://i.scdn.co/image/8b662d81966a0ec40dc10563807696a8479cd48b",alt:"Album cover"}}),t._v(" "),a("div",{staticClass:"info"},[a("img",{attrs:{src:"http://lorempixel.com/75/75/",alt:"Votes"}}),t._v(" "),a("h2",[t._v("Canción")]),t._v(" "),a("h3",[t._v("Album")]),t._v(" "),a("p",[t._v("Votado por: Pepe, Jorge y 3 más")])])])}]}},,,,,function(t,e){}],[11]);
//# sourceMappingURL=app.b8d315d3b873922ecc05.js.map